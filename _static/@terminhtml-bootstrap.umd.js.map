{"version":3,"file":"@terminhtml-bootstrap.umd.js","sources":["../node_modules/terminhtml/dist/terminhtml.es.js","../src/bootstrap.ts","../src/index.ts"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nfunction getElementFromSelectorOrElement(selectorOrElement) {\n  const maybeElement = typeof selectorOrElement === \"string\" ? document.querySelector(selectorOrElement) : selectorOrElement;\n  if (!maybeElement) {\n    throw new Error(\"Container element not found\");\n  }\n  return maybeElement;\n}\nfunction stringHasHTMLElements(string) {\n  return /<\\/?[a-z][\\s\\S]*>/i.test(string);\n}\n/**\n * termynal.js\n * A lightweight, modern and extensible animated terminal window, using\n * async/await.\n *\n * @author Ines Montani <ines@ines.io>\n * @version 0.0.1\n * @license MIT\n */\nconst autoScrollBottomBufferPx = 5;\nclass Termynal {\n  constructor(container = \"#termynal\", options = {}) {\n    var _a, _b, _c, _d, _e;\n    this.startDelay = 600;\n    this.typeDelay = 90;\n    this.lineDelay = 1500;\n    this.speedMultiplier = 1;\n    this.container = getElementFromSelectorOrElement(container);\n    this.customPfx = (_a = options.prefix) != null ? _a : \"ty\";\n    this.pfx = `data-${this.customPfx}`;\n    this.originalStartDelay = options.startDelay || parseFloat((_b = this.container.getAttribute(`${this.pfx}-startDelay`)) != null ? _b : \"\") || 600;\n    this.originalTypeDelay = options.typeDelay || parseFloat((_c = this.container.getAttribute(`${this.pfx}-typeDelay`)) != null ? _c : \"\") || 90;\n    this.originalLineDelay = options.lineDelay || parseFloat((_d = this.container.getAttribute(`${this.pfx}-lineDelay`)) != null ? _d : \"\") || 1500;\n    this.progressLength = options.progressLength || parseFloat(this.container.getAttribute(`${this.pfx}-progressLength`) || \"\") || 40;\n    this.progressChar = options.progressChar || this.container.getAttribute(`${this.pfx}-progressChar`) || \"\\u2588\";\n    this.progressPercent = options.progressPercent || parseFloat((_e = this.container.getAttribute(`${this.pfx}-progressPercent`)) != null ? _e : \"\") || 100;\n    this.cursor = options.cursor || this.container.getAttribute(`${this.pfx}-cursor`) || \"\\u258B\";\n    this.autoScroll = typeof options.autoScroll === \"undefined\" ? true : options.autoScroll;\n    this.origAutoScroll = this.autoScroll;\n    this.lines = this.lineDataToElements(options.lineData || []);\n    this.loadLines();\n    if (!options.noInit)\n      this.init();\n  }\n  loadLines() {\n    const speedControl = this._generateSpeedControl();\n    speedControl.style.visibility = \"hidden\";\n    this.container.appendChild(speedControl);\n    for (const line of this.lines) {\n      line.style.visibility = \"hidden\";\n      this.container.appendChild(line);\n    }\n    const restart = this.generateRestart();\n    restart.style.visibility = \"hidden\";\n    this.container.appendChild(restart);\n    this.container.setAttribute(\"data-termynal\", \"\");\n  }\n  init() {\n    const containerStyle = getComputedStyle(this.container);\n    const width = containerStyle.width !== \"0px\" ? containerStyle.width : void 0;\n    if (width) {\n      this.container.style.width = width;\n    }\n    const minHeight = containerStyle.minHeight !== \"0px\" ? containerStyle.height : void 0;\n    if (minHeight) {\n      this.container.style.minHeight = minHeight;\n    }\n    this.container.setAttribute(\"data-termynal\", \"\");\n    this.container.innerHTML = \"\";\n    for (const line of this.lines) {\n      line.style.visibility = \"visible\";\n    }\n    this.start().catch((e) => console.error(e));\n  }\n  _scrollToBottom() {\n    if (this.autoScroll) {\n      this.container.scrollTop = this.container.scrollHeight;\n    }\n  }\n  _toggleAutoScrollBasedOnUserInteraction() {\n    if (!this._isAtBottom()) {\n      this.autoScroll = false;\n    } else {\n      this.autoScroll = this.origAutoScroll;\n    }\n  }\n  _distanceFromBottom() {\n    return this.container.scrollHeight - this.container.scrollTop - this.container.clientHeight;\n  }\n  _isAtBottom() {\n    return this._distanceFromBottom() <= autoScrollBottomBufferPx;\n  }\n  async start() {\n    this.addFinish();\n    await this._wait(this.startDelay);\n    for (const line of this.lines) {\n      const type = line.getAttribute(this.pfx);\n      const delay = line.getAttribute(`${this.pfx}-delay`) || this.lineDelay;\n      const carriageReturn = !!line.getAttribute(`${this.pfx}-carriageReturn`);\n      this._toggleAutoScrollBasedOnUserInteraction();\n      if (type == \"input\") {\n        line.setAttribute(`${this.pfx}-cursor`, this.cursor);\n        await this.type(line);\n        await this._wait(delay);\n      } else if (type == \"progress\") {\n        await this.progress(line);\n        await this._wait(delay);\n      } else {\n        this.container.appendChild(line);\n        this._scrollToBottom();\n        await this._wait(delay);\n      }\n      if (carriageReturn) {\n        this.container.removeChild(line);\n      }\n      line.removeAttribute(`${this.pfx}-cursor`);\n    }\n    this.addRestart();\n    if (this.speedControlElement) {\n      this.speedControlElement.style.visibility = \"hidden\";\n    }\n    this.lineDelay = this.originalLineDelay;\n    this.typeDelay = this.originalTypeDelay;\n    this.startDelay = this.originalStartDelay;\n  }\n  generateRestart() {\n    const restart = document.createElement(\"a\");\n    restart.onclick = (e) => {\n      e.preventDefault();\n      this.container.innerHTML = \"\";\n      this.init();\n    };\n    restart.href = \"#\";\n    restart.setAttribute(\"data-terminal-control\", \"\");\n    restart.innerHTML = \"restart \\u21BB\";\n    return restart;\n  }\n  _generateSpeedControl() {\n    const speedControlContainer = document.createElement(\"span\");\n    speedControlContainer.setAttribute(\"data-terminal-speed-control-container\", \"\");\n    const speedControl = document.createElement(\"span\");\n    speedControl.setAttribute(\"data-terminal-speed-control\", \"\");\n    const slowDown = document.createElement(\"a\");\n    const label = document.createElement(\"span\");\n    slowDown.onclick = (e) => {\n      e.preventDefault();\n      console.log(\"slow down\");\n      this.speedMultiplier = this.speedMultiplier / 2;\n      label.innerHTML = `${this.speedMultiplier}x`;\n    };\n    slowDown.innerHTML = \"\\u25C4\";\n    slowDown.setAttribute(\"data-terminal-control\", \"\");\n    speedControl.appendChild(slowDown);\n    label.innerHTML = `${this.speedMultiplier}x`;\n    speedControl.appendChild(label);\n    const speedUp = document.createElement(\"a\");\n    speedUp.onclick = (e) => {\n      e.preventDefault();\n      console.log(\"speed up\");\n      this.speedMultiplier = this.speedMultiplier * 2;\n      label.innerHTML = `${this.speedMultiplier}x`;\n    };\n    speedUp.innerHTML = \"\\u25BA\";\n    speedUp.setAttribute(\"data-terminal-control\", \"\");\n    speedControl.appendChild(speedUp);\n    speedControlContainer.appendChild(speedControl);\n    this.speedControlElement = speedControlContainer;\n    return speedControlContainer;\n  }\n  addRestart() {\n    const restart = this.generateRestart();\n    this.container.appendChild(restart);\n  }\n  addFinish() {\n    const finish = this._generateSpeedControl();\n    this.container.appendChild(finish);\n  }\n  async type(line) {\n    const chars = [...line.textContent || \"\"];\n    line.textContent = \"\";\n    this.container.appendChild(line);\n    this._scrollToBottom();\n    for (const char of chars) {\n      const delay = line.getAttribute(`${this.pfx}-typeDelay`) || this.typeDelay;\n      await this._wait(delay);\n      line.textContent += char;\n    }\n  }\n  async progress(line) {\n    var _a;\n    const progressLength = parseFloat((_a = line.getAttribute(`${this.pfx}-progressLength`)) != null ? _a : \"\") || this.progressLength;\n    const progressChar = line.getAttribute(`${this.pfx}-progressChar`) || this.progressChar;\n    const chars = progressChar.repeat(progressLength);\n    const progressPercent = line.getAttribute(`${this.pfx}-progressPercent`) || this.progressPercent;\n    line.textContent = \"\";\n    this.container.appendChild(line);\n    for (let i = 1; i < chars.length + 1; i++) {\n      await this._wait(this.typeDelay);\n      const percent = Math.round(i / chars.length * 100);\n      line.textContent = `${chars.slice(0, i)} ${percent}%`;\n      if (percent > progressPercent) {\n        break;\n      }\n    }\n  }\n  _wait(time) {\n    const useTime = typeof time === \"string\" ? parseFloat(time) : time;\n    const multipliedTime = useTime / this.speedMultiplier;\n    return new Promise((resolve) => setTimeout(resolve, multipliedTime));\n  }\n  lineDataToElements(lineData) {\n    return lineData.map((line) => {\n      var _a;\n      const div = document.createElement(\"div\");\n      const useValue = (_a = line.value) != null ? _a : \"\";\n      div.innerHTML = stringIsHTMLElementWithRelevantData(useValue, this.customPfx) ? useValue : `<span ${this._attributes(line)}>${useValue}</span>`;\n      return div.firstElementChild;\n    });\n  }\n  _attributes(line) {\n    let attrs = \"\";\n    for (const prop in line) {\n      attrs += this.pfx;\n      if (prop === \"type\") {\n        const attrValue = line[prop];\n        attrs += `=\"${attrValue}\" `;\n      } else if (prop !== \"value\") {\n        const attrValue = line[prop];\n        attrs += `-${prop}=\"${attrValue}\" `;\n      }\n    }\n    return attrs;\n  }\n}\nfunction camelCase(str) {\n  return str.replace(/(?:^\\w|[A-Z]|\\b\\w|\\s+)/g, function(match, index) {\n    if (+match === 0)\n      return \"\";\n    return index === 0 ? match.toLowerCase() : match.toUpperCase();\n  });\n}\nfunction stringIsHTMLElementWithRelevantData(string, prefix) {\n  if (!stringHasHTMLElements(string)) {\n    return false;\n  }\n  const container = document.createElement(\"div\");\n  container.innerHTML = string;\n  const element = container.firstElementChild;\n  if (!element) {\n    console.warn(`Detected incomplete HTML element ${string} on its own line. Keep HTML blocks on the same line`);\n    return false;\n  }\n  const camelCasePrefix = camelCase(prefix);\n  for (const prop in element.dataset) {\n    if (prop.startsWith(camelCasePrefix)) {\n      return true;\n    }\n  }\n  return false;\n}\nconst carriageReturnChar = \"\\r\";\nconst defaultOptions = {\n  promptLiteralStart: \"$ \",\n  customPromptLiteralStart: \"# \",\n  initNow: false,\n  autoScroll: true\n};\nclass TerminHTML {\n  constructor(container = \"#termynal\", options = {}) {\n    this.container = getElementFromSelectorOrElement(container);\n    this.options = __spreadValues(__spreadValues({}, defaultOptions), options);\n    const _a = options, { initNow } = _a, rest = __objRest(_a, [\"initNow\"]);\n    const lineData = this._createLineData();\n    const termynalOptions = __spreadProps(__spreadValues({}, rest), {\n      noInit: !initNow,\n      lineData\n    });\n    this.termynal = new Termynal(container, termynalOptions);\n  }\n  init() {\n    this.termynal.init();\n  }\n  _createLineData() {\n    const lines = this.container.innerHTML.split(\"\\n\");\n    const lineData = [];\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i];\n      if (line.startsWith(\"// \")) {\n        lineData.push({\n          value: \"\\u{1F4AC} \" + line.replace(\"// \", \"\").trimEnd(),\n          class: \"termynal-comment\",\n          delay: 0\n        });\n      } else if (textContentStartsWith(line, this.options.promptLiteralStart)) {\n        const value = createTermynalValueFromPossiblyHTMLString(line, {\n          replacements: [\n            { searchValue: this.options.promptLiteralStart, replaceValue: \"\" }\n          ],\n          type: \"input\"\n        });\n        lineData.push({\n          type: \"input\",\n          value\n        });\n      } else if (textContentStartsWith(line, this.options.customPromptLiteralStart)) {\n        const promptStart = line.indexOf(this.options.promptLiteralStart);\n        if (promptStart === -1) {\n          console.error(\"Custom prompt found but no end delimiter\", line);\n        }\n        const prompt = line.slice(0, promptStart).replace(this.options.customPromptLiteralStart, \"\");\n        const value = createTermynalValueFromPossiblyHTMLString(line.slice(promptStart + this.options.promptLiteralStart.length), {\n          type: \"input\",\n          prompt\n        });\n        lineData.push({\n          type: \"input\",\n          value,\n          prompt\n        });\n      } else if (line.indexOf(\"\\r\") !== -1) {\n        const value = createTermynalValueFromPossiblyHTMLString(line, {\n          replacements: [{ searchValue: carriageReturnChar, replaceValue: \"\" }],\n          carriageReturn: true\n        });\n        lineData.push({\n          value,\n          carriageReturn: true\n        });\n      } else {\n        lineData.push({\n          value: line\n        });\n      }\n    }\n    return lineData;\n  }\n}\nfunction textContentStartsWith(elementString, string) {\n  const textContent = getTextContentFromStringPossiblyContainingHTML(elementString);\n  return textContent.startsWith(string);\n}\nfunction getTextContentFromStringPossiblyContainingHTML(string) {\n  var _a;\n  if (!stringHasHTMLElements(string)) {\n    return string;\n  }\n  const div = document.createElement(\"div\");\n  const trimString = string.trim();\n  const useString = trimString.startsWith(\"<\") ? trimString : string;\n  div.innerHTML = useString;\n  return (_a = div.textContent) != null ? _a : \"\";\n}\nfunction createTermynalValueFromPossiblyHTMLString(string, options = {}) {\n  var _a;\n  const replacements = (_a = options.replacements) != null ? _a : [];\n  if (!stringHasHTMLElements(string)) {\n    return applyReplacements(string, replacements).trimEnd();\n  }\n  const div = document.createElement(\"div\");\n  div.innerHTML = string;\n  const elem = div.firstElementChild;\n  if (!elem) {\n    throw new Error(\"No element found in string\");\n  }\n  replaceTextInElement(elem, replacements);\n  if (options.type === \"input\") {\n    elem.setAttribute(\"data-ty\", \"input\");\n  }\n  if (options.prompt) {\n    elem.setAttribute(\"data-ty-prompt\", options.prompt);\n  }\n  if (options.carriageReturn) {\n    elem.setAttribute(\"data-ty-carriageReturn\", \"true\");\n  }\n  return elem.outerHTML;\n}\nfunction applyReplacements(string, replacements) {\n  return replacements.reduce((acc, replacement) => acc.replace(replacement.searchValue, replacement.replaceValue), string);\n}\nfunction replaceTextInElement(element, replacements) {\n  for (const childElem of element.childNodes) {\n    if (childElem.childNodes.length > 0) {\n      replaceTextInElement(childElem, replacements);\n    } else {\n      const textContent = childElem.textContent;\n      childElem.textContent = applyReplacements(textContent != null ? textContent : \"\", replacements);\n    }\n  }\n}\nexport { TerminHTML, TerminHTML as default };\n//# sourceMappingURL=terminhtml.es.js.map\n","import TerminHTML from \"terminhtml\";\n\nexport type BootstrapOptions = {\n  class: string;\n};\n\nexport type BootstrapResult = {\n  stopListener(): void;\n  terminHTMLs: TerminHTML[];\n};\n\nconst defaultClass = \"terminhtml\";\nconst defaultOptions: BootstrapOptions = {\n  class: defaultClass,\n};\n\nexport function bootstrapTerminHTMLsOnWindowLoad(\n  options?: Partial<BootstrapOptions>\n): void {\n  window.addEventListener(\"load\", () => bootstrapTerminHTMLs(options));\n}\n\nexport function bootstrapTerminHTMLs(\n  options?: Partial<BootstrapOptions>\n): BootstrapResult {\n  loadTerminHTMLCSS();\n\n  const opts: BootstrapOptions = { ...defaultOptions, ...options };\n  const className = opts.class;\n  return createTerminHTMLs(className);\n}\n\nfunction createTerminHTMLs(className: string): BootstrapResult {\n  const elements = document.querySelectorAll<HTMLElement>(`.${className}`);\n  const terminHTMLs: TerminHTML[] = [];\n  for (const element of elements) {\n    const terminHTML = new TerminHTML(element);\n    terminHTMLs.push(terminHTML);\n  }\n  let unloadedTerms = [...terminHTMLs];\n\n  function loadVisibleTermynals() {\n    unloadedTerms = unloadedTerms.filter(term => {\n      if (term.container.getBoundingClientRect().top - innerHeight <= 0) {\n        term.init();\n        return false;\n      }\n      return true;\n    });\n  }\n\n  window.addEventListener(\"scroll\", loadVisibleTermynals);\n  const stopListener = () =>\n    window.removeEventListener(\"scroll\", loadVisibleTermynals);\n  loadVisibleTermynals();\n  return { stopListener, terminHTMLs };\n}\n\nconst cssId = \"terminhtml-styles\";\n\nfunction loadTerminHTMLCSS() {\n  if (!document.getElementById(cssId)) {\n    const head = document.getElementsByTagName(\"head\")[0];\n    const link = document.createElement(\"link\");\n    link.id = cssId;\n    link.rel = \"stylesheet\";\n    link.type = \"text/css\";\n    // TODO: update url to be main terminhtml once it is out of alpha\n    link.href =\n      \"https://unpkg.com/terminhtml@1.0.0-alpha.16/dist/src/termynal.css\";\n    link.media = \"all\";\n    head.appendChild(link);\n  }\n}\n","import { bootstrapTerminHTMLsOnWindowLoad } from './bootstrap';\n\nbootstrapTerminHTMLsOnWindowLoad();\n"],"names":["defaultOptions"],"mappings":"obAAA,GAAI,GAAY,OAAO,eACnB,EAAa,OAAO,iBACpB,EAAoB,OAAO,0BAC3B,EAAsB,OAAO,sBAC7B,EAAe,OAAO,UAAU,eAChC,EAAe,OAAO,UAAU,qBAChC,EAAkB,CAAC,EAAK,EAAK,IAAU,IAAO,GAAM,EAAU,EAAK,EAAK,CAAE,WAAY,GAAM,aAAc,GAAM,SAAU,GAAM,OAAO,CAAA,EAAI,EAAI,GAAO,EACtJ,EAAiB,CAAC,EAAG,IAAM,CAC7B,OAAS,KAAQ,IAAM,GAAI,CAAA,GACzB,AAAI,EAAa,KAAK,EAAG,CAAI,GAC3B,EAAgB,EAAG,EAAM,EAAE,EAAK,EACpC,GAAI,EACF,OAAS,KAAQ,GAAoB,CAAC,EACpC,AAAI,EAAa,KAAK,EAAG,CAAI,GAC3B,EAAgB,EAAG,EAAM,EAAE,EAAK,EAEtC,MAAO,EACT,EACI,EAAgB,CAAC,EAAG,IAAM,EAAW,EAAG,EAAkB,CAAC,CAAC,EAC5D,EAAY,CAAC,EAAQ,IAAY,CACnC,GAAI,GAAS,CAAA,EACb,OAAS,KAAQ,GACf,AAAI,EAAa,KAAK,EAAQ,CAAI,GAAK,EAAQ,QAAQ,CAAI,EAAI,GAC7D,GAAO,GAAQ,EAAO,IAC1B,GAAI,GAAU,MAAQ,EACpB,OAAS,KAAQ,GAAoB,CAAM,EACzC,AAAI,EAAQ,QAAQ,CAAI,EAAI,GAAK,EAAa,KAAK,EAAQ,CAAI,GAC7D,GAAO,GAAQ,EAAO,IAE5B,MAAO,EACT,EACA,WAAyC,EAAmB,CAC1D,KAAM,GAAe,MAAO,IAAsB,SAAW,SAAS,cAAc,CAAiB,EAAI,EACzG,GAAI,CAAC,EACH,KAAM,IAAI,OAAM,6BAA6B,EAE/C,MAAO,EACT,CACA,WAA+B,EAAQ,CACrC,MAAO,qBAAqB,KAAK,CAAM,CACzC,CACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,KAAM,GAA2B,EACjC,MAAM,CAAS,CACb,YAAY,EAAY,YAAa,EAAU,CAAA,EAAI,CACjD,GAAI,GAAI,EAAI,EAAI,EAAI,EACpB,KAAK,WAAa,IAClB,KAAK,UAAY,GACjB,KAAK,UAAY,KACjB,KAAK,gBAAkB,EACvB,KAAK,UAAY,EAAgC,CAAS,EAC1D,KAAK,UAAa,GAAK,EAAQ,SAAW,KAAO,EAAK,KACtD,KAAK,IAAM,QAAQ,KAAK,YACxB,KAAK,mBAAqB,EAAQ,YAAc,WAAY,GAAK,KAAK,UAAU,aAAa,GAAG,KAAK,gBAAgB,IAAM,KAAO,EAAK,EAAE,GAAK,IAC9I,KAAK,kBAAoB,EAAQ,WAAa,WAAY,GAAK,KAAK,UAAU,aAAa,GAAG,KAAK,eAAe,IAAM,KAAO,EAAK,EAAE,GAAK,GAC3I,KAAK,kBAAoB,EAAQ,WAAa,WAAY,GAAK,KAAK,UAAU,aAAa,GAAG,KAAK,eAAe,IAAM,KAAO,EAAK,EAAE,GAAK,KAC3I,KAAK,eAAiB,EAAQ,gBAAkB,WAAW,KAAK,UAAU,aAAa,GAAG,KAAK,oBAAoB,GAAK,EAAE,GAAK,GAC/H,KAAK,aAAe,EAAQ,cAAgB,KAAK,UAAU,aAAa,GAAG,KAAK,kBAAkB,GAAK,SACvG,KAAK,gBAAkB,EAAQ,iBAAmB,WAAY,GAAK,KAAK,UAAU,aAAa,GAAG,KAAK,qBAAqB,IAAM,KAAO,EAAK,EAAE,GAAK,IACrJ,KAAK,OAAS,EAAQ,QAAU,KAAK,UAAU,aAAa,GAAG,KAAK,YAAY,GAAK,SACrF,KAAK,WAAa,MAAO,GAAQ,YAAe,YAAc,GAAO,EAAQ,WAC7E,KAAK,eAAiB,KAAK,WAC3B,KAAK,MAAQ,KAAK,mBAAmB,EAAQ,UAAY,CAAA,CAAE,EAC3D,KAAK,UAAS,EACT,EAAQ,QACX,KAAK,KAAI,CACZ,CACD,WAAY,CACV,KAAM,GAAe,KAAK,wBAC1B,EAAa,MAAM,WAAa,SAChC,KAAK,UAAU,YAAY,CAAY,EACvC,SAAW,KAAQ,MAAK,MACtB,EAAK,MAAM,WAAa,SACxB,KAAK,UAAU,YAAY,CAAI,EAEjC,KAAM,GAAU,KAAK,kBACrB,EAAQ,MAAM,WAAa,SAC3B,KAAK,UAAU,YAAY,CAAO,EAClC,KAAK,UAAU,aAAa,gBAAiB,EAAE,CAChD,CACD,MAAO,CACL,KAAM,GAAiB,iBAAiB,KAAK,SAAS,EAChD,EAAQ,EAAe,QAAU,MAAQ,EAAe,MAAQ,OACtE,AAAI,GACF,MAAK,UAAU,MAAM,MAAQ,GAE/B,KAAM,GAAY,EAAe,YAAc,MAAQ,EAAe,OAAS,OAC/E,AAAI,GACF,MAAK,UAAU,MAAM,UAAY,GAEnC,KAAK,UAAU,aAAa,gBAAiB,EAAE,EAC/C,KAAK,UAAU,UAAY,GAC3B,SAAW,KAAQ,MAAK,MACtB,EAAK,MAAM,WAAa,UAE1B,KAAK,MAAO,EAAC,MAAM,AAAC,GAAM,QAAQ,MAAM,CAAC,CAAC,CAC3C,CACD,iBAAkB,CAChB,AAAI,KAAK,YACP,MAAK,UAAU,UAAY,KAAK,UAAU,aAE7C,CACD,yCAA0C,CACxC,AAAK,KAAK,cAGR,KAAK,WAAa,KAAK,eAFvB,KAAK,WAAa,EAIrB,CACD,qBAAsB,CACpB,MAAO,MAAK,UAAU,aAAe,KAAK,UAAU,UAAY,KAAK,UAAU,YAChF,CACD,aAAc,CACZ,MAAO,MAAK,oBAAqB,GAAI,CACtC,MACK,QAAQ,CACZ,KAAK,UAAS,EACd,KAAM,MAAK,MAAM,KAAK,UAAU,EAChC,SAAW,KAAQ,MAAK,MAAO,CAC7B,KAAM,GAAO,EAAK,aAAa,KAAK,GAAG,EACjC,EAAQ,EAAK,aAAa,GAAG,KAAK,WAAW,GAAK,KAAK,UACvD,EAAiB,CAAC,CAAC,EAAK,aAAa,GAAG,KAAK,oBAAoB,EACvE,KAAK,wCAAuC,EAC5C,AAAI,GAAQ,QACV,GAAK,aAAa,GAAG,KAAK,aAAc,KAAK,MAAM,EACnD,KAAM,MAAK,KAAK,CAAI,EACpB,KAAM,MAAK,MAAM,CAAK,GACjB,AAAI,GAAQ,WACjB,MAAM,MAAK,SAAS,CAAI,EACxB,KAAM,MAAK,MAAM,CAAK,GAEtB,MAAK,UAAU,YAAY,CAAI,EAC/B,KAAK,gBAAe,EACpB,KAAM,MAAK,MAAM,CAAK,GAEpB,GACF,KAAK,UAAU,YAAY,CAAI,EAEjC,EAAK,gBAAgB,GAAG,KAAK,YAAY,CAC1C,CACD,KAAK,WAAU,EACX,KAAK,qBACP,MAAK,oBAAoB,MAAM,WAAa,UAE9C,KAAK,UAAY,KAAK,kBACtB,KAAK,UAAY,KAAK,kBACtB,KAAK,WAAa,KAAK,kBACxB,CACD,iBAAkB,CAChB,KAAM,GAAU,SAAS,cAAc,GAAG,EAC1C,SAAQ,QAAU,AAAC,GAAM,CACvB,EAAE,eAAc,EAChB,KAAK,UAAU,UAAY,GAC3B,KAAK,KAAI,CACf,EACI,EAAQ,KAAO,IACf,EAAQ,aAAa,wBAAyB,EAAE,EAChD,EAAQ,UAAY,iBACb,CACR,CACD,uBAAwB,CACtB,KAAM,GAAwB,SAAS,cAAc,MAAM,EAC3D,EAAsB,aAAa,wCAAyC,EAAE,EAC9E,KAAM,GAAe,SAAS,cAAc,MAAM,EAClD,EAAa,aAAa,8BAA+B,EAAE,EAC3D,KAAM,GAAW,SAAS,cAAc,GAAG,EACrC,EAAQ,SAAS,cAAc,MAAM,EAC3C,EAAS,QAAU,AAAC,GAAM,CACxB,EAAE,eAAc,EAChB,QAAQ,IAAI,WAAW,EACvB,KAAK,gBAAkB,KAAK,gBAAkB,EAC9C,EAAM,UAAY,GAAG,KAAK,kBAChC,EACI,EAAS,UAAY,SACrB,EAAS,aAAa,wBAAyB,EAAE,EACjD,EAAa,YAAY,CAAQ,EACjC,EAAM,UAAY,GAAG,KAAK,mBAC1B,EAAa,YAAY,CAAK,EAC9B,KAAM,GAAU,SAAS,cAAc,GAAG,EAC1C,SAAQ,QAAU,AAAC,GAAM,CACvB,EAAE,eAAc,EAChB,QAAQ,IAAI,UAAU,EACtB,KAAK,gBAAkB,KAAK,gBAAkB,EAC9C,EAAM,UAAY,GAAG,KAAK,kBAChC,EACI,EAAQ,UAAY,SACpB,EAAQ,aAAa,wBAAyB,EAAE,EAChD,EAAa,YAAY,CAAO,EAChC,EAAsB,YAAY,CAAY,EAC9C,KAAK,oBAAsB,EACpB,CACR,CACD,YAAa,CACX,KAAM,GAAU,KAAK,kBACrB,KAAK,UAAU,YAAY,CAAO,CACnC,CACD,WAAY,CACV,KAAM,GAAS,KAAK,wBACpB,KAAK,UAAU,YAAY,CAAM,CAClC,MACK,MAAK,EAAM,CACf,KAAM,GAAQ,CAAC,GAAG,EAAK,aAAe,EAAE,EACxC,EAAK,YAAc,GACnB,KAAK,UAAU,YAAY,CAAI,EAC/B,KAAK,gBAAe,EACpB,SAAW,KAAQ,GAAO,CACxB,KAAM,GAAQ,EAAK,aAAa,GAAG,KAAK,eAAe,GAAK,KAAK,UACjE,KAAM,MAAK,MAAM,CAAK,EACtB,EAAK,aAAe,CACrB,CACF,MACK,UAAS,EAAM,CACnB,GAAI,GACJ,KAAM,GAAiB,WAAY,GAAK,EAAK,aAAa,GAAG,KAAK,oBAAoB,IAAM,KAAO,EAAK,EAAE,GAAK,KAAK,eAE9G,EAAQ,AADO,GAAK,aAAa,GAAG,KAAK,kBAAkB,GAAK,KAAK,cAChD,OAAO,CAAc,EAC1C,EAAkB,EAAK,aAAa,GAAG,KAAK,qBAAqB,GAAK,KAAK,gBACjF,EAAK,YAAc,GACnB,KAAK,UAAU,YAAY,CAAI,EAC/B,OAAS,GAAI,EAAG,EAAI,EAAM,OAAS,EAAG,IAAK,CACzC,KAAM,MAAK,MAAM,KAAK,SAAS,EAC/B,KAAM,GAAU,KAAK,MAAM,EAAI,EAAM,OAAS,GAAG,EAEjD,GADA,EAAK,YAAc,GAAG,EAAM,MAAM,EAAG,CAAC,KAAK,KACvC,EAAU,EACZ,KAEH,CACF,CACD,MAAM,EAAM,CAEV,KAAM,GAAiB,AADP,OAAO,IAAS,SAAW,WAAW,CAAI,EAAI,GAC7B,KAAK,gBACtC,MAAO,IAAI,SAAQ,AAAC,GAAY,WAAW,EAAS,CAAc,CAAC,CACpE,CACD,mBAAmB,EAAU,CAC3B,MAAO,GAAS,IAAI,AAAC,GAAS,CAC5B,GAAI,GACJ,KAAM,GAAM,SAAS,cAAc,KAAK,EAClC,EAAY,GAAK,EAAK,QAAU,KAAO,EAAK,GAClD,SAAI,UAAY,EAAoC,EAAU,KAAK,SAAS,EAAI,EAAW,SAAS,KAAK,YAAY,CAAI,KAAK,WACvH,EAAI,iBACjB,CAAK,CACF,CACD,YAAY,EAAM,CAChB,GAAI,GAAQ,GACZ,SAAW,KAAQ,GAEjB,GADA,GAAS,KAAK,IACV,IAAS,OAEX,GAAS,KADS,EAAK,eAEd,IAAS,QAAS,CAC3B,KAAM,GAAY,EAAK,GACvB,GAAS,IAAI,MAAS,KACvB,CAEH,MAAO,EACR,CACH,CACA,WAAmB,EAAK,CACtB,MAAO,GAAI,QAAQ,0BAA2B,SAAS,EAAO,EAAO,CACnE,MAAI,CAAC,GAAU,EACN,GACF,IAAU,EAAI,EAAM,YAAW,EAAK,EAAM,aACrD,CAAG,CACH,CACA,WAA6C,EAAQ,EAAQ,CAC3D,GAAI,CAAC,EAAsB,CAAM,EAC/B,MAAO,GAET,KAAM,GAAY,SAAS,cAAc,KAAK,EAC9C,EAAU,UAAY,EACtB,KAAM,GAAU,EAAU,kBAC1B,GAAI,CAAC,EACH,eAAQ,KAAK,oCAAoC,sDAA2D,EACrG,GAET,KAAM,GAAkB,EAAU,CAAM,EACxC,SAAW,KAAQ,GAAQ,QACzB,GAAI,EAAK,WAAW,CAAe,EACjC,MAAO,GAGX,MAAO,EACT,CACA,KAAM,GAAqB,KACrBA,EAAiB,CACrB,mBAAoB,KACpB,yBAA0B,KAC1B,QAAS,GACT,WAAY,EACd,EACA,MAAM,CAAW,CACf,YAAY,EAAY,YAAa,EAAU,CAAA,EAAI,CACjD,KAAK,UAAY,EAAgC,CAAS,EAC1D,KAAK,QAAU,EAAe,EAAe,CAAA,EAAIA,CAAc,EAAG,CAAO,EACzE,KAAM,GAAK,EAAS,CAAE,WAAY,EAAI,EAAO,EAAU,EAAI,CAAC,SAAS,CAAC,EAChE,EAAW,KAAK,kBAChB,EAAkB,EAAc,EAAe,CAAE,EAAE,CAAI,EAAG,CAC9D,OAAQ,CAAC,EACT,UACN,CAAK,EACD,KAAK,SAAW,GAAI,GAAS,EAAW,CAAe,CACxD,CACD,MAAO,CACL,KAAK,SAAS,MACf,CACD,iBAAkB,CAChB,KAAM,GAAQ,KAAK,UAAU,UAAU,MAAM;AAAA,CAAI,EAC3C,EAAW,CAAA,EACjB,OAAS,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CACrC,KAAM,GAAO,EAAM,GACnB,GAAI,EAAK,WAAW,KAAK,EACvB,EAAS,KAAK,CACZ,MAAO,aAAe,EAAK,QAAQ,MAAO,EAAE,EAAE,QAAS,EACvD,MAAO,mBACP,MAAO,CACjB,CAAS,UACQ,EAAsB,EAAM,KAAK,QAAQ,kBAAkB,EAAG,CACvE,KAAM,GAAQ,EAA0C,EAAM,CAC5D,aAAc,CACZ,CAAE,YAAa,KAAK,QAAQ,mBAAoB,aAAc,EAAI,CACnE,EACD,KAAM,OAChB,CAAS,EACD,EAAS,KAAK,CACZ,KAAM,QACN,OACV,CAAS,CACT,SAAiB,EAAsB,EAAM,KAAK,QAAQ,wBAAwB,EAAG,CAC7E,KAAM,GAAc,EAAK,QAAQ,KAAK,QAAQ,kBAAkB,EAChE,AAAI,IAAgB,IAClB,QAAQ,MAAM,2CAA4C,CAAI,EAEhE,KAAM,GAAS,EAAK,MAAM,EAAG,CAAW,EAAE,QAAQ,KAAK,QAAQ,yBAA0B,EAAE,EACrF,EAAQ,EAA0C,EAAK,MAAM,EAAc,KAAK,QAAQ,mBAAmB,MAAM,EAAG,CACxH,KAAM,QACN,QACV,CAAS,EACD,EAAS,KAAK,CACZ,KAAM,QACN,QACA,QACV,CAAS,CACF,SAAU,EAAK,QAAQ,IAAI,IAAM,GAAI,CACpC,KAAM,GAAQ,EAA0C,EAAM,CAC5D,aAAc,CAAC,CAAE,YAAa,EAAoB,aAAc,EAAE,CAAE,EACpE,eAAgB,EAC1B,CAAS,EACD,EAAS,KAAK,CACZ,QACA,eAAgB,EAC1B,CAAS,CACT,KACQ,GAAS,KAAK,CACZ,MAAO,CACjB,CAAS,CAEJ,CACD,MAAO,EACR,CACH,CACA,WAA+B,EAAe,EAAQ,CAEpD,MAAO,AADa,GAA+C,CAAa,EAC7D,WAAW,CAAM,CACtC,CACA,WAAwD,EAAQ,CAC9D,GAAI,GACJ,GAAI,CAAC,EAAsB,CAAM,EAC/B,MAAO,GAET,KAAM,GAAM,SAAS,cAAc,KAAK,EAClC,EAAa,EAAO,OACpB,EAAY,EAAW,WAAW,GAAG,EAAI,EAAa,EAC5D,SAAI,UAAY,EACR,GAAK,EAAI,cAAgB,KAAO,EAAK,EAC/C,CACA,WAAmD,EAAQ,EAAU,GAAI,CACvE,GAAI,GACJ,KAAM,GAAgB,GAAK,EAAQ,eAAiB,KAAO,EAAK,GAChE,GAAI,CAAC,EAAsB,CAAM,EAC/B,MAAO,GAAkB,EAAQ,CAAY,EAAE,QAAO,EAExD,KAAM,GAAM,SAAS,cAAc,KAAK,EACxC,EAAI,UAAY,EAChB,KAAM,GAAO,EAAI,kBACjB,GAAI,CAAC,EACH,KAAM,IAAI,OAAM,4BAA4B,EAE9C,SAAqB,EAAM,CAAY,EACnC,EAAQ,OAAS,SACnB,EAAK,aAAa,UAAW,OAAO,EAElC,EAAQ,QACV,EAAK,aAAa,iBAAkB,EAAQ,MAAM,EAEhD,EAAQ,gBACV,EAAK,aAAa,yBAA0B,MAAM,EAE7C,EAAK,SACd,CACA,WAA2B,EAAQ,EAAc,CAC/C,MAAO,GAAa,OAAO,CAAC,EAAK,IAAgB,EAAI,QAAQ,EAAY,YAAa,EAAY,YAAY,EAAG,CAAM,CACzH,CACA,WAA8B,EAAS,EAAc,CACnD,SAAW,KAAa,GAAQ,WAC9B,GAAI,EAAU,WAAW,OAAS,EAChC,EAAqB,EAAW,CAAY,MACvC,CACL,KAAM,GAAc,EAAU,YAC9B,EAAU,YAAc,EAAkB,GAAe,KAAO,EAAc,GAAI,CAAY,CAC/F,CAEL,CCvZA,KAAM,GAAmC,CACvC,MAFmB,YAGrB,EAEO,WACL,EACM,CACN,OAAO,iBAAiB,OAAQ,IAAM,EAAqB,CAAO,CAAC,CACrE,CAEO,WACL,EACiB,CACC,IAGlB,KAAM,GAAY,AADa,OAAK,GAAmB,GAChC,MACvB,MAAO,GAAkB,CAAS,CACpC,CAEA,WAA2B,EAAoC,CAC7D,KAAM,GAAW,SAAS,iBAA8B,IAAI,GAAW,EACjE,EAA4B,CAAA,EAClC,SAAW,KAAW,GAAU,CACxB,KAAA,GAAa,GAAI,GAAW,CAAO,EACzC,EAAY,KAAK,CAAU,CAC7B,CACI,GAAA,GAAgB,CAAC,GAAG,CAAW,EAEH,YAAA,CACd,EAAA,EAAc,OAAO,AAAQ,GACvC,EAAK,UAAU,sBAAwB,EAAA,IAAM,aAAe,EAC9D,GAAK,KAAK,EACH,IAEF,EACR,CACH,CAEO,OAAA,iBAAiB,SAAU,CAAoB,EACtD,KAAM,GAAe,IACnB,OAAO,oBAAoB,SAAU,CAAoB,EACtC,WACd,CAAE,eAAc,cACzB,CAEA,KAAM,GAAQ,oBAEd,YAA6B,CAC3B,GAAI,CAAC,SAAS,eAAe,CAAK,EAAG,CACnC,KAAM,GAAO,SAAS,qBAAqB,MAAM,EAAE,GAC7C,EAAO,SAAS,cAAc,MAAM,EAC1C,EAAK,GAAK,EACV,EAAK,IAAM,aACX,EAAK,KAAO,WAEZ,EAAK,KACH,oEACF,EAAK,MAAQ,MACb,EAAK,YAAY,CAAI,CACvB,CACF,CCvEA,EAAiC"}